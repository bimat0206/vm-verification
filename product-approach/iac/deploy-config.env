# Auto-Deploy Configuration
# Source this file to set default values for the deployment scripts
# Usage: source deploy-config.env

# AWS Configuration
export AWS_DEFAULT_PROFILE="default"
export AWS_DEFAULT_REGION="us-east-1"

# Docker/ECR Configuration
export DEFAULT_IMAGE_TAG="latest"
export ECR_REPOSITORY_PREFIX="kootoro"

# Deployment Configuration
export TERRAFORM_AUTO_APPROVE="false"
export ENABLE_BACKUP="true"
export ENABLE_ROLLBACK="false"
export ENABLE_VERIFICATION="true"

# Logging Configuration
export LOG_RETENTION_DAYS="30"
export PLAN_RETENTION_DAYS="7"

# API Gateway Configuration
export DEFAULT_API_MEMORY="256"
export DEFAULT_API_TIMEOUT="30"
export DEFAULT_HTTP_METHOD="GET"

# Project Configuration
export PROJECT_NAME="vending-machine-verification"
export ENVIRONMENT="dev"

# Health Check Configuration
export HEALTH_CHECK_TIMEOUT="30"
export HEALTH_CHECK_RETRIES="3"

# Step Functions Configuration
export STEP_FUNCTION_TIMEOUT="300"

# Lambda Configuration Defaults
export LAMBDA_ARCHITECTURE="x86_64"
export LAMBDA_RUNTIME="python3.9"

# Notification Configuration (optional)
export SLACK_WEBHOOK_URL=""
export EMAIL_NOTIFICATIONS=""

# Development vs Production Settings
if [ "$ENVIRONMENT" = "prod" ]; then
    export TERRAFORM_AUTO_APPROVE="false"
    export ENABLE_BACKUP="true"
    export ENABLE_ROLLBACK="true"
    export LOG_RETENTION_DAYS="90"
    export PLAN_RETENTION_DAYS="30"
elif [ "$ENVIRONMENT" = "dev" ]; then
    export TERRAFORM_AUTO_APPROVE="true"
    export ENABLE_BACKUP="true"
    export ENABLE_ROLLBACK="false"
fi

echo "Deployment configuration loaded for environment: $ENVIRONMENT"
