{
  "test_scenarios": {
    "successful_request": {
      "description": "Test with a valid verificationId that should exist in DynamoDB",
      "event": {
        "resource": "/api/verifications/{verificationId}/conversation",
        "path": "/api/verifications/verif-20250604082215-c689/conversation",
        "httpMethod": "GET",
        "headers": {
          "Accept": "application/json",
          "Content-Type": "application/json",
          "Host": "api.example.com",
          "User-Agent": "Test-Client/1.0"
        },
        "multiValueHeaders": {
          "Accept": ["application/json"],
          "Content-Type": ["application/json"]
        },
        "queryStringParameters": null,
        "multiValueQueryStringParameters": null,
        "pathParameters": {
          "verificationId": "verif-20250604082215-c689"
        },
        "stageVariables": null,
        "requestContext": {
          "resourceId": "123456",
          "resourcePath": "/api/verifications/{verificationId}/conversation",
          "httpMethod": "GET",
          "requestTime": "09/Apr/2015:12:34:56 +0000",
          "path": "/Prod/api/verifications/verif-20250604082215-c689/conversation",
          "accountId": "123456789012",
          "protocol": "HTTP/1.1",
          "stage": "Prod",
          "requestTimeEpoch": 1428582896000,
          "requestId": "test-request-id-001",
          "identity": {
            "sourceIp": "192.0.2.1",
            "userAgent": "Test-Client/1.0"
          },
          "domainName": "api.example.com",
          "apiId": "1234567890"
        },
        "body": null,
        "isBase64Encoded": false
      }
    },
    "missing_verification_id": {
      "description": "Test with missing verificationId parameter",
      "event": {
        "resource": "/api/verifications/{verificationId}/conversation",
        "path": "/api/verifications//conversation",
        "httpMethod": "GET",
        "headers": {
          "Accept": "application/json",
          "Content-Type": "application/json"
        },
        "multiValueHeaders": {
          "Accept": ["application/json"]
        },
        "queryStringParameters": null,
        "multiValueQueryStringParameters": null,
        "pathParameters": {},
        "stageVariables": null,
        "requestContext": {
          "resourceId": "123456",
          "resourcePath": "/api/verifications/{verificationId}/conversation",
          "httpMethod": "GET",
          "requestTime": "09/Apr/2015:12:34:56 +0000",
          "path": "/Prod/api/verifications//conversation",
          "accountId": "123456789012",
          "protocol": "HTTP/1.1",
          "stage": "Prod",
          "requestTimeEpoch": 1428582896000,
          "requestId": "test-request-id-002",
          "identity": {
            "sourceIp": "192.0.2.1"
          },
          "domainName": "api.example.com",
          "apiId": "1234567890"
        },
        "body": null,
        "isBase64Encoded": false
      }
    },
    "nonexistent_verification": {
      "description": "Test with a verificationId that doesn't exist in DynamoDB",
      "event": {
        "resource": "/api/verifications/{verificationId}/conversation",
        "path": "/api/verifications/nonexistent-verification-id/conversation",
        "httpMethod": "GET",
        "headers": {
          "Accept": "application/json",
          "Content-Type": "application/json"
        },
        "multiValueHeaders": {
          "Accept": ["application/json"]
        },
        "queryStringParameters": null,
        "multiValueQueryStringParameters": null,
        "pathParameters": {
          "verificationId": "nonexistent-verification-id"
        },
        "stageVariables": null,
        "requestContext": {
          "resourceId": "123456",
          "resourcePath": "/api/verifications/{verificationId}/conversation",
          "httpMethod": "GET",
          "requestTime": "09/Apr/2015:12:34:56 +0000",
          "path": "/Prod/api/verifications/nonexistent-verification-id/conversation",
          "accountId": "123456789012",
          "protocol": "HTTP/1.1",
          "stage": "Prod",
          "requestTimeEpoch": 1428582896000,
          "requestId": "test-request-id-003",
          "identity": {
            "sourceIp": "192.0.2.1"
          },
          "domainName": "api.example.com",
          "apiId": "1234567890"
        },
        "body": null,
        "isBase64Encoded": false
      }
    },
    "cors_preflight": {
      "description": "Test CORS preflight OPTIONS request",
      "event": {
        "resource": "/api/verifications/{verificationId}/conversation",
        "path": "/api/verifications/verif-20250604082215-c689/conversation",
        "httpMethod": "OPTIONS",
        "headers": {
          "Access-Control-Request-Method": "GET",
          "Access-Control-Request-Headers": "Content-Type,Authorization",
          "Origin": "https://example.com"
        },
        "multiValueHeaders": {
          "Access-Control-Request-Method": ["GET"],
          "Access-Control-Request-Headers": ["Content-Type,Authorization"],
          "Origin": ["https://example.com"]
        },
        "queryStringParameters": null,
        "multiValueQueryStringParameters": null,
        "pathParameters": {
          "verificationId": "verif-20250604082215-c689"
        },
        "stageVariables": null,
        "requestContext": {
          "resourceId": "123456",
          "resourcePath": "/api/verifications/{verificationId}/conversation",
          "httpMethod": "OPTIONS",
          "requestTime": "09/Apr/2015:12:34:56 +0000",
          "path": "/Prod/api/verifications/verif-20250604082215-c689/conversation",
          "accountId": "123456789012",
          "protocol": "HTTP/1.1",
          "stage": "Prod",
          "requestTimeEpoch": 1428582896000,
          "requestId": "test-request-id-004",
          "identity": {
            "sourceIp": "192.0.2.1"
          },
          "domainName": "api.example.com",
          "apiId": "1234567890"
        },
        "body": null,
        "isBase64Encoded": false
      }
    },
    "invalid_method": {
      "description": "Test with unsupported HTTP method (POST)",
      "event": {
        "resource": "/api/verifications/{verificationId}/conversation",
        "path": "/api/verifications/verif-20250604082215-c689/conversation",
        "httpMethod": "POST",
        "headers": {
          "Accept": "application/json",
          "Content-Type": "application/json"
        },
        "multiValueHeaders": {
          "Accept": ["application/json"],
          "Content-Type": ["application/json"]
        },
        "queryStringParameters": null,
        "multiValueQueryStringParameters": null,
        "pathParameters": {
          "verificationId": "verif-20250604082215-c689"
        },
        "stageVariables": null,
        "requestContext": {
          "resourceId": "123456",
          "resourcePath": "/api/verifications/{verificationId}/conversation",
          "httpMethod": "POST",
          "requestTime": "09/Apr/2015:12:34:56 +0000",
          "path": "/Prod/api/verifications/verif-20250604082215-c689/conversation",
          "accountId": "123456789012",
          "protocol": "HTTP/1.1",
          "stage": "Prod",
          "requestTimeEpoch": 1428582896000,
          "requestId": "test-request-id-005",
          "identity": {
            "sourceIp": "192.0.2.1"
          },
          "domainName": "api.example.com",
          "apiId": "1234567890"
        },
        "body": "{\"test\": \"data\"}",
        "isBase64Encoded": false
      }
    }
  }
}
